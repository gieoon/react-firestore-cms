{"version":3,"sources":["../../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../../src/loading.js","../../src/textEditor.js","../../src/commonFunctions.js","../../src/constants.js","../../src/webpageEditor.js","../../src/UpdatePage.js","../../src/index.js","../../src/assets/profile.png","App.js","config.js","index.js"],"names":["_Pact","prototype","then","onFulfilled","onRejected","result","state","this","s","callback","_settle","v","e","o","_this","value","pact","bind","observer","_isSettledPact","thenable","_forTo","array","body","check","reject","i","_cycle","length","Symbol","iterator","asyncIterator","Loading","loading","className","RichEditor","editorValue","RichTextEditor","files","showDropdown","onChange","componentDidUpdate","props","initialValue","prevProps","render","toolbarConfig","display","INLINE_STYLE_BUTTONS","label","style","BLOCK_TYPE_DROPDOWN","BLOCK_TYPE_BUTTONS","customControls","onClick","console","key","editorState","contentStateWithEntity","url","file","class","entityKey","newEditorState","currentContent","newValue","RichUtils","React","Component","firebaseDate2DisplayDate","firebaseDate","Date","STORAGE_ROOT","WebpageEditor","children","setFrameLoaded","useState","useEffect","id","height","width","contentDidMount","quills","UpdatePage","projectName","collectionWebsiteContent","db","frameLoaded","highlightEditable","interval","setInterval","addEditButton","head","getIframe","link","clearInterval","parent","document","Array","el","dw","d","editorContainer","d2","d3","saveClicked","cancelClicked","createEditInput","parentElement","getCssSelector","currentText","loadWebsiteContent","sections","val","extractElementContent","createNestedObj","dbObj","saveWebsiteContent","obj","path","doc","err","toolbarOptions","m","regexp","RegExp","quill","modules","toolbar","theme","root","SectionContent","entry","setShowingEdit","setShowingNew","setNewAudio","setNewImages","setNewFiles","setNewDate","setAdditionalDate","setNewTitle","setNewText","setShowingDeleteDialog","setRteInitTitle","setRteInitContent","setShowingAdditionalDate","src","effect","alt","controls","type","dangerouslySetInnerHTML","__html","title","content","ad","firebase","collectionName","loginComplete","setLoginComplete","currentUid","setCurrentUid","currentUser","setCurrentUser","currentEmail","setCurrentEmail","currentSection","setCurrentSection","pageData","setPageData","selectedSectionIndex","setSelectedSectionIndex","showingNew","newText","newTitle","newDate","showSaving","setShowSaving","showingEdit","showingDeleteDialog","webpageEditable","setWebpageEditable","newImages","newFiles","newAudio","rteInitTitle","rteInitContent","showingAdditionalDate","additionalDate","editType","setEditType","storage","setStorage","provider","user","LogIn","authTest","init","lastLogin","merge","loadWebpageDataFromUid","loadAllSectionData","forceUpdate","useCallback","updatePageData","data","promises","out","loadSectionData","section","Promise","snapshot","p","change","name","getStoragePath","filename","saveNew","imgObjs","audioObjs","fileObjs","toLocaleDateString","fileObj","metaData","customMetadata","storageRef","saveMiscellaneous","test","update","stage","shouldContinue","updateValue","_resumeAfterTest","_resumeAfterBody","_resumeAfterUpdate","saveAudio","sectionName","saveImage","hideShowingNew","deleteStoredObject","downloadUrl","charSet","rel","href","sizes","backgroundColor","updateSelectedSectionIndex","Object","htmlFor","URL","localFile","hidden","accept","newImage","removeUploadedImg","f","audio","removeUploadedAudio","newFile","download","selected","dateFormat","deleteSectionContent","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","MyWebsite","surname","description","jobs","careers","duration","details","volunteer_work","qualifications1","qualifications2","qualifications3","text","start","end","setData","collection","get","padding","margin","map","job","lineHeight","justifyContent","flexWrap","career","borderRadius","border","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.d555d133.chunk.js","sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React from 'react';\nimport './loading.scss';\n\nexport default function Loading({\n    loading,\n    loadingTexts,\n}){\n    // console.log(\"loading: \", loading)\n    //TODO update the loading text as it comes around.\n\n    return(\n        // <div className=\"Loading\"></div>\n        <div>\n            <div className={\"Loading \" + (loading ? \"show\" : \"\")}>\n                <div className=\"double-bounce1\"></div>\n                <div className=\"double-bounce2\"></div>\n            </div>\n            <div className={\"Loading-overlay \" + (loading ? \"show\" : \"\")}></div>\n        </div>\n    );\n}\n","import React from 'react';\nimport RichTextEditor, {EditorValue} from 'react-rte';\nimport {RichUtils, EditorState} from 'draft-js'\nimport {X} from 'react-feather';\n\n// https://github.com/sstur/react-rte/blob/master/src/EditorDemo.js\n// https://github.com/sstur/react-rte/blob/8c81622706a5f8856d39497bf33f92a97e9664fc/src/lib/EditorValue.js#L42\n\n// Demonstrates how to add links\n// https://codepen.io/Kiwka/pen/ZLvPeO\n\nexport default class RichEditor extends React.Component {\n    editorValue = RichTextEditor.createEmptyValue();\n    state = {\n        value: this.editorValue,\n        files: this.props.files,\n        showDropdown: false,\n    }\n    \n    componentDidUpdate(prevProps, prevState, snapshot){\n      if(this.props.initialValue !== prevProps.initialValue){\n        this.setState({\n          value: RichTextEditor.createValueFromString(this.props.initialValue, 'html'),\n        });\n      }\n    }\n    \n    onChange = (value) => {\n        this.setState({value});\n        if (this.props.onChange) {\n          // Send the changes up to the parent component as an HTML string.\n          // This is here to demonstrate using `.toString()` but in a real app it\n          // would be better to avoid generating a string on each change.\n          // console.log('value.tostring(): ', value.toString('html'));\n          this.props.onChange(\n            value.toString('html')\n          );\n        }\n    };\n    \n    render () {\n      // console.log(this.state.value);\n\n        const toolbarConfig = {\n            display: [\n                'INLINE_STYLE_BUTTONS', \n                'BLOCK_TYPE_BUTTONS', \n                'BLOCK_TYPE_DROPDOWN', \n                'LINK_BUTTONS', \n                //'HISTORY_BUTTONS'\n            ],\n            INLINE_STYLE_BUTTONS: [\n              {label: 'Bold', style: 'BOLD', className: 'custom-css-class'},\n              {label: 'Italic', style: 'ITALIC'},\n              {label: 'Underline', style: 'UNDERLINE'},\n            ],\n            BLOCK_TYPE_DROPDOWN: [\n              {label: 'Normal', style: 'unstyled'},\n              {label: 'Small Title', style: 'header-three'},\n              {label: 'Medium Title', style: 'header-two'},\n              {label: 'Large Title', style: 'header-one'},\n            ],\n            BLOCK_TYPE_BUTTONS: [\n              {label: 'UL', style: 'unordered-list-item'},\n              {label: 'OL', style: 'ordered-list-item'}\n            ]\n        };\n\n        return (\n          <RichTextEditor\n            value={this.state.value}\n            onChange={this.onChange}\n            toolbarConfig={toolbarConfig}\n            customControls={[\n              (setValue, getValue, editorState) => {\n                return this.props.files\n                  ? <div className=\"link-file\" onClick={()=>{\n                      console.log('Link to file clicked: ', this.props.files);\n                      // console.log(window.getSelection().toString());\n                      this.setState({\n                        showDropdown: !this.state.showDropdown,\n                      });\n                      // setValue('custom-file-link', this.state.value);\n                    }} style={{display: this.props.files.length ? \"inline-block\" : \"none\"}}>\n                      { this.state.showDropdown \n                        ? <X /> \n                        : \"Link to a file\"\n                      }\n                      <div className={\"link-file-dropdown \" + (this.state.showDropdown ? \"showing\" : \"\")}>\n                        {\n                          this.props.files.map((file, i)=>(\n                            <div key={\"link-file-\"+i} onClick={()=>{\n                              console.log('file selected: ', file);\n\n                              var selectionState = editorState.getSelection();\n                              var anchorKey = selectionState.getAnchorKey();\n                              var contentState = editorState.getCurrentContent();\n                              const contentStateWithEntity = contentState.createEntity(\n                                'LINK',\n                                'MUTABLE',\n                                {url: `file:${file.id}`, //file.name\n                                class: \"file-link\"\n                                }\n                              )\n                              const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n                              const newEditorState = EditorState.set(editorState, {\n                                currentContent: contentStateWithEntity,\n                              });\n\n                              const newValue = new EditorValue(\n                                RichUtils.toggleLink(\n                                  newEditorState,\n                                  newEditorState.getSelection(),\n                                  entityKey,\n                                'html'),\n                              )\n\n                              this.setState({\n                                value: newValue\n                              })\n                              this.props.onChange(\n                                newValue.toString('html')\n                              );\n\n                            }}>\n                              <span>{file.name}</span>\n                            </div>\n                          ))\n                        }\n                      </div>\n                  </div>\n                  : \"\"\n              },\n            ]}\n          />\n        );\n    }\n}\n\n","// convert firebase date format to a display date\nexport const firebaseDate2DisplayDate = (firebaseDate) => {\n    // console.log('converting: ', firebaseDate.seconds * 1000)\n    if(!firebaseDate || !firebaseDate.seconds) return \"\";\n    const out = new Date(firebaseDate.seconds * 1000).toLocaleDateString(\"en-nz\");\n    // console.log(out);\n    return out;\n}\n\nexport const getCMSStoragePath = (projectName, type, filename) => {\n    // return currentEmail + \"/\" + type + \"/\" + filename + \"-\" + Date.now();\n    return \"custom/\" + projectName + \"/cms/\" + type + \"/\" + Date.now() + \"-\" + filename;\n}\n\nexport const getWebsiteContentsStoragePath = (projectName, type, filename) => {\n    // return currentEmail + \"/\" + type + \"/\" + filename + \"-\" + Date.now();\n    return \"custom/\" + projectName + \"/content/\" + type + \"/\" + Date.now() + \"-\" + filename;\n}\n","export const ENVIRONMENT = \n    \"DEVELOP\"; \n    // \"PRODUCTION\";\n\nexport const SHOW_HUMAN_FEEDBACK = ENVIRONMENT === \"DEVELOP\";\nexport const DB_VERSION = ENVIRONMENT === \"DEVELOP\" \n    ? \"DEBUG_\" \n    : \"LIVE_\"; \n\nexport const COLLECTION__CMS = DB_VERSION + \"CMS\";\nexport const STORAGE_ROOT = 'https://firebasestorage.googleapis.com';","/* DEPRECATED, was using this to edit cross-domain and display locally via iframes. */\n\nimport React, {useEffect, useState} from 'react';\nimport Frame from 'react-frame-component';\n// Edits webpages based on a list of id's.\nexport default function WebpageEditor({\n    // pageData, \n    children,\n    setFrameLoaded,\n}){\n    const [editable, setEditable] = useState();\n    \n    useEffect(()=>{\n        // Client has built in script that listens to 'highlight' event.\n        // This will trigger code.\n        // TODO Turn this into a npm library.\n        \n        // const editableElements = Array.from(\n        //     iframe.querySelectorAll('.cp-editable')\n        // );\n\n        // console.log(\"editableElements: \", editableElements);\n    }, []);\n\n    // const iframeLoadComplete = () => {\n    //     const iframe = document.querySelector('iframe').contentWindow;\n    //     iframe.postMessage('startEdit', '*' /*window.location.href*/);\n    // }\n\n    return(\n        // <div className=\"WebpageEditor\">\n            // <iframe src={pageData.liveURL} onLoad={()=>{iframeLoadComplete()}} width=\"100%\" height=\"100%\" title=\"Client Website\" />\n            <Frame\n                id=\"editingFrame\"\n                height=\"100%\"\n                width=\"100%\"\n                // initialContent='<!DOCTYPE html><html><head><style>body:{margin:0;}</style></head><body></body></html>'\n                contentDidMount={()=>{\n                    // console.log('Frame mounted!!!: ');\n                    setFrameLoaded(true);\n                }}\n            >\n                {children}\n            </Frame>\n\n        // </div>\n    )\n}","import React, {useEffect, useState, ReactDOM} from 'react';\n// import {useLocation} from 'react-router-dom';\n// This is shared code for all CMS listeners.\n// Listens to events from login.<domain-name>.craftie.xyz, \n// Edits the page after events are received.\nimport Quill from 'quill';\n// import ReactQuill from 'react-quill';\n// import 'react-quill/dist/quill.snow.css';\nimport getCssSelector from 'css-selector-generator';\nimport { getDefaultKeyBinding } from 'draft-js';\n\nconst quills = {};\n\nexport default function UpdatePage({\n    projectName,\n    collectionWebsiteContent,\n    db,\n    frameLoaded,\n}){\n    \n    useEffect(()=>{\n        if(frameLoaded){\n            highlightEditable();\n\n            var interval = setInterval(() => {\n                addEditButton();\n            }, 1500);\n\n            var head = getIframe().head;\n            var link = getIframe().createElement(\"link\");\n            link.type = \"text/css\";\n            link.rel = \"stylesheet\";\n            link.href = \"https://cdn.quilljs.com/1.3.6/quill.snow.css\";\n            head.appendChild(link);\n            return () => { \n                head.removeChild(link); \n                console.log('CLEARING INTERVAL');\n                clearInterval(interval);\n            }\n        }\n    }, [frameLoaded]);\n\n    const getIframe = () => {\n        var parent = document.querySelector('#editingFrame');\n        if(parent)\n            return parent.contentDocument;\n        return undefined;\n    }\n\n    const addEditButton = () => {\n        const elements = Array.from(\n            getIframe().querySelectorAll('.cp-editable')\n        );\n        // console.log(\"editable elements: \", elements[2]);\n        for(var el of elements){\n            // console.log('el.querySelector(.cp-editable-btn): ', el.querySelector('.cp-editable-btn') === undefined);\n\n            if(!el.querySelector('.cp-editable-btn')){\n                // console.log('Adding button');\n                const dw = getIframe().createElement('div');\n                dw.classList.add(\"cp-editable-btn-wrapper\");\n                // console.log('Adding edit button to element: #', el, el.querySelector('.cp-editable-btn'));\n                const d = getIframe().createElement('div');\n                const editorContainer = getIframe().createElement('div');\n                d.textContent = \"Edit\";\n                // const img = document.createElement('img');\n                // img.src = \"\";\n                d.classList.add('cp-editable-btn');\n                editorContainer.classList.add('editor');\n                \n                const d2 = getIframe().createElement('div');\n                d2.textContent = \"Save\";\n                d2.classList.add('cp-editable-save-btn');\n                \n\n                const d3 = getIframe().createElement('div');\n                d3.textContent = \"Cancel\";\n                d3.classList.add('cp-editable-cancel-btn');\n                \n                d2.onclick = (e) => {\n                    saveClicked(e);\n                }\n\n                d3.onclick = (e) => {\n                    cancelClicked();\n                }\n                \n                d.onclick = (e) => {\n                    createEditInput(e);\n                }\n                el.appendChild(editorContainer);\n                dw.appendChild(d);\n                dw.appendChild(d2);\n                dw.appendChild(d3);\n                el.appendChild(dw);\n            }\n\n        }\n    }\n\n    const cancelClicked = (e) => {\n        var parentElement = e.target.closest('.cp-editable');\n        parentElement.classList.toggle('editing');\n        console.log('Cancel pressed')\n        console.log(quills[getCssSelector(parentElement)].getText());\n        // quills[getCssSelector(parentElement)].setText(\"\");\n        // Manually hide\n        parentElement.querySelector('.ql-toolbar').style.display = \"none\";\n        parentElement.querySelector('.ql-container').style.display = \"none\";\n\n        // quills[getCssSelector(parentElement)].disable();//enable(false);\n        // delete quills[getCssSelector(parentElement)];\n        parentElement.textContent = quills[getCssSelector(parentElement)].getText();\n        console.log(\"parentElement.textContent: \", parentElement.textContent);\n    }\n\n    const saveClicked = async (e) => {\n        var parentElement = e.target.closest('.cp-editable');\n        parentElement.classList.toggle('editing');\n\n        // Update local DOM\n        // var quill = quills[getCssSelector(parentElement)];\n        var currentText = getIframe().querySelector('.ql-editor').textContent;//Not working => quill.getText();\n        console.log('got text: ', currentText);\n\n        parentElement.textContent = currentText;\n\n        // Save all to DB\n        \n        // Creates id.\n        // Converts hyphens to child component.\n        // Converts numbers to sections of an array.\n        //TODO testing data.\n        const data = {\n            name: \"Jason\",\n            surname: \"Briggs\",\n            description: \"A paragraph that can be changed by pressing the edit button on the bottom right.\",\n            jobs: [\n              \"Software Engineer\",\n              \"Automation Tester\",\n              \"Developer Operations\",\n              \"Marketing & Sales Coordinator\",\n              \"Test Analyst\"\n            ],\n            careers: [\n              {\n                title: \"Automation Testing\",\n                duration: 2,\n              },\n              {\n                title: \"Junior Software Developer\",\n                duration: 5\n              },\n              {\n                title: \"Senior Software Developer\",\n                duration: 10,\n              }\n            ],\n            details: {\n                volunteer_work: \"Working at the Orphanage\",\n                qualifications1: \"Google Ads Master - 2020\",\n                qualifications2: \"Google Ads Master - 2021\",\n                qualifications3: {\n                  text: \"2019 Kickstart Coding Challenge - Bronze\",\n                  start: \"2019 Jan\",\n                  end: \"2019 Nov\",\n                }\n            }\n          };\n        const dbObj = /*data;*/await loadWebsiteContent() || {};\n        console.log(\"Loaded dbObj: \", dbObj);\n        var sections = parentElement.id.split(/-|~/g);\n        // sections.unshift(\"obj\");\n        console.log(\"el.id: \", parentElement.id);\n        console.log(\"sections: \", sections);\n        var val = extractElementContent(parentElement);\n        // Modifies dbObj by reference.\n        /*var newObj = */createNestedObj(dbObj, sections, val);\n        // console.log(JSON.stringify(newObj));\n        console.log(\"Returned: \", dbObj);\n        await saveWebsiteContent(dbObj);\n    }\n\n    // Creates a nested Object, retains existing values.\n    // const createNestedObj = (obj, keys, val) => { \n    //     const lastKey = keys.pop();\n    //     const lastObj = keys.reduce((obj, key) => \n    //         obj[key] = obj[key] || {}, \n    //         obj\n    //     ); \n    //     console.log('lastObj: ', lastObj);\n    //     console.log('lastKey: ', lastKey);\n    //     lastObj[lastKey] = val;\n    //     return lastObj;\n    // };\n\n    // const createNestedObj = ( base, names, values ) => {\n    //     for( var i in names ) base = base[ names[i] ] = base[ names[i] ] || (values[i] || {});\n    // };\n\n    /*const createNestedObj = (obj, keyPath, value) => {\n        var lastKeyIndex = keyPath.length-1;\n        for (var i = 0; i < lastKeyIndex; ++ i) {\n            var key = keyPath[i];\n            console.log(\"Handling key: \", key);\n            if (!(key in obj)){\n                obj[key] = {}\n            }\n            obj = obj[key];\n        }\n        obj[keyPath[lastKeyIndex]] = value;\n        console.log(\"RETURNING: \", obj);\n        return obj;\n    }*/\n    /*\n    var createNestedObj = function( base, names, value ) {\n        // If a value is given, remove the last name and keep it for later:\n        var lastName = arguments.length === 3 ? names.pop() : false;\n    \n        // Walk the hierarchy, creating new objects where needed.\n        // If the lastName was removed, then the last object is not set yet:\n        for( var i = 0; i < names.length; i++ ) {\n            base = base[ names[i] ] = base[ names[i] ] || {};\n        }\n    \n        // If a value was given, set it to the last name:\n        if( lastName ) base = base[ lastName ] = value;\n        \n        // Return the last object in the hierarchy:\n        return base;\n    };\n    */\n    const createNestedObj = (obj, path, value) => {\n        if (path.length === 1) {\n            obj[path] = value\n            return;\n        }\n        return createNestedObj(obj[path[0]], path.slice(1), value);\n    }\n    \n\n    const loadWebsiteContent = async () => {\n        // console.log('projectName: ', currentUid, projectName);\n        return db.collection(collectionWebsiteContent)\n            .doc(projectName)\n            .get()\n            .then(doc => {\n                console.log(doc.data());\n                return doc.data();\n            })\n            .catch(err => console.error(\"Error loading website content: \", err))\n    };\n\n    const saveWebsiteContent = async (obj) => {\n        // console.log('projectName: ', currentUid, projectName);\n        return db.collection(collectionWebsiteContent)\n            .doc(projectName)\n            .set(obj)\n            .then(() => {\n                return \"Success\";\n            })\n            .catch(err => console.error(\"Error saving website content: \", err))\n    };\n\n    const extractElementContent = (el) => {\n        console.log('Extracting text from: ', el, el.textContent);\n        return el.textContent.replace(/EditSaveCancel/,'');\n    }\n\n    const editClicked = (e) => {\n        createEditInput(e);\n    }\n\n    const toolbarOptions = [\n        ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n        ['blockquote', 'code-block'],\n      \n        [{ 'header': 1 }, { 'header': 2 }],               // custom button values\n        [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n        [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\n        // [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n        // [{ 'direction': 'rtl' }],                         // text direction\n      \n        [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n      \n        [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\n        [{ 'font': [] }],\n        [{ 'align': [] }],\n      \n        ['clean']                                         // remove formatting button\n    ];\n\n    const createEditInput = (e) => {\n        console.log('Creating edit input');\n        var el = e.target;\n        var parentElement = el.closest('.cp-editable');\n        parentElement.classList.toggle('editing');\n        console.log('parentElement: ', parentElement);\n        var m = parentElement.innerHTML.match(/^[^<]*/);\n        var currentText = m[0].trim();\n        var regexp = new RegExp(m[0]);\n        \n        // var inp = document.createElement(\"input\");\n        if(!parentElement.querySelector('.ql-toolbar')){\n            \n            var quill = new Quill(parentElement.querySelector('.editor'), { //getCssSelector(parentElement)\n                modules: { toolbar: toolbarOptions },\n                theme: 'snow'\n            });\n            // var currentText = parentElement.innerHTML;//.replace(/EditSaveCancel$/,'');\n            // console.log('currentText: ', currentText);\n             // Match until the first <, which denotes HTML postfixes.\n            // console.log(\"m[0]: \", m[0]);\n            // currentText = m[0].trim();\n            // console.log('inner html: ', parentElement.innerHTML);\n            // console.log(\"replaced: \", parentElement.innerHTML.replace(regexp, ''));\n            \n            quill.setText(currentText);\n            parentElement.innerHTML = parentElement.innerHTML.replace(regexp, '');\n\n            quills[getCssSelector(parentElement)] = quill;\n        } else {\n            // Editor already exists, just show it\n            parentElement.querySelector('.ql-toolbar').style.display = \"block\";\n            parentElement.querySelector('.ql-container').style.display = \"block\";\n            // var currentText = parentElement.textContent;\n            // currentText = currentText.replace(/EditSaveCancel$/,'');\n            // currentText = m[0].trim();\n            // var replaceText = new RegExp(currentText + \"EditSaveCancel\");\n            parentElement.innerHTML = parentElement.innerHTML.replace(regexp, '');\n            // quills[getCssSelector(parentElement)].setText(currentText);\n        }\n\n        // Redefine click events for buttons.\n        parentElement.querySelector('.cp-editable-cancel-btn').onclick = (e) => {\n            cancelClicked(e);\n        }\n        parentElement.querySelector('.cp-editable-save-btn').onclick = (e) => {\n            saveClicked(e);\n        }\n    }\n\n\n\n    const highlightEditable = () => {\n        // console.log('Highlighting everything!!!');\n        addEditButton();\n\n        // Attach CSS to head\n        const root = getIframe();\n        // console.log(\"root: \", root);\n        root.head.insertAdjacentHTML('beforeend', `\n            <style>\n                .cp-editable {\n                    border: 2px solid black;\n                    position: relative;\n                }\n                .cp-editable::after {\n                    content: \"\";\n                    background-color: rgba(0,0,0,0.1);\n                    position: absolute;\n                    bottom: 0;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    pointer-events: none;\n                }\n                .cp-editable.editing::after {\n                    opacity: 0;\n                }\n                .cp-editable-btn-wrapper {\n                    position: absolute;\n                    /* box-shadow: 0px 0px 2px rgba(255,255,255,0.5); */\n                    z-index: 1;\n                    right: 0;\n                    bottom: -5px;\n                    display: flex;\n                    justify-content: space-evenly;\n                    align-items: center;\n                    transition: all 100ms ease-in-out;\n                }\n                .cp-editable-btn,\n                .cp-editable-save-btn,\n                .cp-editable-cancel-btn {\n                    background-color: black;\n                    color: white;\n                    padding: 2px 4px;\n                    width: 50px;\n                    font-size: 12px;\n                    border-radius: 4px;\n                    border: 1px solid rgba(150,150,150,0.5);\n                    cursor: pointer;\n                    line-height: normal;\n                    font-weight: 200;\n                    margin-left: 5px;\n                }\n                .cp-editable-btn:hover,\n                .cp-editable-save-btn:hover,\n                .cp-editable-cancel-btn:hover {\n                    background-color: rgb(50,50,50);\n                }\n                .cp-editable.editing .cp-editable-btn {\n                    display: none;\n                }\n                .cp-editable .cp-editable-save-btn,\n                .cp-editable .cp-editable-cancel-btn {\n                    display: none;\n                }\n                .cp-editable.editing .cp-editable-save-btn,\n                .cp-editable.editing .cp-editable-cancel-btn {\n                    display: block;\n                }\n            </style>\n        `)\n    }\n\n    return <React.Fragment />;\n}\n\n// for(var i=0;i<sections.length;i++){\n        //     console.log('handling section: ', sections[i]);\n        //     var numberMatch = sections[i].match(/([0-9]+)/);\n        //     var stringMatch = sections[i].match(/([a-zA-Z0-9]+)/);\n            \n        //     if(stringMatch){\n        //         console.log(\"stringMatch: \", stringMatch);\n        //         path.push({\n        //             action: \"Dictionary\",\n        //             value: stringMatch[0]\n        //         });\n        //         // out[stringMatch[0]] = undefined;// extractElementContent(el);\n        //     }\n        //     else if(numberMatch){\n        //         // Create array index.\n        //         // Add previous index if it exists.\n        //         path.push({\n        //             action: \"Array\",\n        //             value: numberMatch[0]\n        //         })\n        //         // out[numberMatch[0]] = undefined;//extractElementContent(el);\n        //     }\n        // }\n        // return path;\n        // for(var i=sections.length-1;0;i--){\n        //     console.log('handling section: ', sections[i]);\n        //     var numberMatch = sections[i].match(/([0-9]+)/);\n        //     var stringMatch = sections[i].match(/([a-zA-Z0-9]+)/);\n        //     if(numberMatch){\n        //         // Create array index.\n        //         out[numberMatch[0]] = extractElementContent(el);\n        //     }\n        //     else if(stringMatch){\n        //         console.log(\"stringMatch: \", stringMatch);\n        //         out[stringMatch[0]] = extractElementContent(el);\n        //     }\n        // }","// Client-facing CMS\n// Client navigates to their webpage, then to /edit, then they can update the content as they wish.\n\nimport React, {useState, useEffect, useCallback} from 'react';\nimport {Helmet} from \"react-helmet\";\n// import firebase from 'firebase/app';\n// import firebase from \"firebase\";\n// import 'firebase/firestore';\n// import 'firebase/auth';\n// import 'firebase/storage';\n\n// import 'firebase/auth';\n// import 'firebase/storage';\nimport { Check, Square, Plus, X, Edit, Trash2, Image, Headphones, File, Paperclip } from 'react-feather';\nimport profile from './assets/profile.png';\n// import blank_image from '../assets/blank_image.png';\n// import blank_audio from '../assets/blank_audio.png';\nimport Loading from './loading.js';\nimport TextEditor from './textEditor.js';\nimport RichTextEditor from 'react-rte';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport DatePicker from \"react-datepicker\"\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport {firebaseDate2DisplayDate} from './commonFunctions';\nimport {\n    STORAGE_ROOT\n} from './constants';\nimport WebpageEditor from './webpageEditor.js';\n// import 'react-pdf/dist/esm/Page/AnnotationLayer.css';\n// import { Document, Page } from 'react-pdf';\n// import { pdfjs } from 'react-pdf';\n// pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\nimport UpdatePage from './UpdatePage.js';\n\n// import firebaseConfig from './config';\n\nexport default function CMS({\n    db,\n    firebase,\n    projectName,\n    collectionName,\n    collectionWebsiteContent,\n    children,\n}){\n    useEffect(()=>{\n        // firebase.initializeApp(firebaseConfig);\n        // db = firebase.firestore();\n    }, []);\n\n    const [loginComplete, setLoginComplete] = useState(false);\n    const [currentUid, setCurrentUid] = useState();\n    const [currentUser, setCurrentUser] = useState({});\n    const [currentEmail, setCurrentEmail] = useState(\"\");\n    const [currentSection, setCurrentSection] = useState(\"\");\n    const [pageData, setPageData] = useState({sections:[]});\n    const [selectedSectionIndex, setSelectedSectionIndex] = useState(0);\n    const [showingNew, setShowingNew] = useState(false);\n    const [newText, setNewText] = useState(\"\");\n    const [newTitle, setNewTitle] = useState(\"\");\n    const [newDate, setNewDate] = useState(new Date()); //useState(undefined);\n    const [showSaving, setShowSaving] = useState(false);\n    const [showingEdit, setShowingEdit] = useState(undefined);\n    const [showingDeleteDialog, setShowingDeleteDialog] = useState(false);\n    const [frameLoaded, setFrameLoaded] = useState(false);\n    const [webpageEditable, setWebpageEditable] = useState(false);\n\n    const [newImages, setNewImages] = useState([]);\n    const [newFiles, setNewFiles] = useState([]);\n    const [newAudio, setNewAudio] = useState([]);\n\n    const [rteInitTitle, setRteInitTitle] = useState();\n    const [rteInitContent, setRteInitContent] = useState();\n\n    const [showingAdditionalDate, setShowingAdditionalDate] = useState(false);\n    const [additionalDate, setAdditionalDate] = useState(new Date());\n\n    const [editType, setEditType] = useState(0);\n\n    const [storage, setStorage] = useState();\n\n    useEffect(()=>{\n        if(!currentUid){           \n            setStorage(firebase.storage().ref());\n\n            var provider = new firebase.auth.GoogleAuthProvider();\n            provider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n            firebase.auth().onAuthStateChanged(function(user) {\n                if (user) {\n                    // User is signed in.\n                    // var displayName = user.displayName;\n                    // var email = user.email;\n                    // var emailVerified = user.emailVerified;\n                    // var photoURL = user.photoURL;\n                    // var isAnonymous = user.isAnonymous;\n                    // var uid = user.uid;\n                    // var providerData = user.providerData;\n                    // console.log('Login complete: ', user.uid);\n                    setCurrentEmail(user.email);\n                    setCurrentUser(user);\n                    // console.log(user);\n                    // console.log(user);\n                    setLoginComplete(true);\n                    setCurrentUid(user.uid);\n                } else {\n                    // console.log('Not signed in');\n                    setLoginComplete(true);\n                    setCurrentUid(\"\");\n                    setCurrentUser(\"\");\n                    setCurrentEmail(\"\");\n                }   \n            })\n\n            firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)\n            // .then(()=>{\n            //     firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {\n            //         var errorCode = error.code;\n            //         var errorMessage = error.message;\n            //     });\n            // })\n        }\n    }, []);\n\n    // useEffect(()=>{\n    //     setNewTitle(\"\");\n    //     setNewText(\"\");\n    // }, showingNew);\n\n    const LogIn = () => {\n        var provider = new firebase.auth.GoogleAuthProvider();\n        // provider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n        firebase.auth().signInWithPopup(provider).then(function(result) {\n            // This gives you a Google Access Token. You can use it to access the Google API.\n            // var token = result.credential.accessToken;\n            // var user = result.user;\n            // setCurrentUid(user.uid);\n            // setCurrentUser(user);\n            // setCurrentEmail(user.email);\n            // setLoginComplete(true);\n          }).catch(function(err) {\n            // Handle Errors here.\n            // var errorCode = error.code;\n            // var errorMessage = error.message;\n            // // The email of the user's account used.\n            // var email = error.email;\n            // // The firebase.auth.AuthCredential type that was used.\n            // var credential = error.credential;\n            console.error(\"Error signing in: \", err);\n          });\n    }\n\n    useEffect(()=>{\n        // DB calls to load data to edit\n        // console.log('Initializing CMS data');\n        if(currentUid){\n            authTest();\n            init();\n        }\n    }, [loginComplete, currentUid])\n\n    // Try and set some dummy data to check if it's possible\n    const authTest = () => {\n        if(!db) return;\n        db.collection(collectionName) \n            .doc(projectName)\n            .set({\n                lastLogin: firebase.firestore.FieldValue.serverTimestamp()\n            }, {merge: true})\n            .then((e) => {\n                // console.log(e);\n            }).catch(err => {\n                console.error(\"Error in authTest: \", err);\n                firebase.auth().signOut();\n            });\n        \n    }\n\n    const init = () => {\n        // console.log(\"currentUid: \", currentUid);\n        loadWebpageDataFromUid().then(pageData => {\n            // console.log('init pageData!!!!: ', pageData);\n            if(!pageData && loginComplete){\n                firebase.auth().signOut();\n                return;\n            }\n            setPageData(pageData || {sections:[]})\n            setWebpageEditable(pageData.webpageEditable);\n            if(pageData.webpageEditable)\n                setEditType(0);\n            loadAllSectionData(pageData || {sections:[]}).then(d => {\n                // console.log(d)\n                // setPageData({\n                //     ...pageData, \n                //     ...d\n                // })\n            })\n            // Default to first section\n            if(pageData && pageData.sections.length) \n                setCurrentSection(pageData.sections[0] || \"\");\n        });\n    }\n\n    const loadWebpageDataFromUid = async () => {\n        // console.log('projectName: ', currentUid, projectName);\n        if(!db || !currentUid || !loginComplete) return {sections:[]};\n        return db.collection(collectionName)\n            .doc(projectName)\n            .get()\n            .then(doc => {\n\n                // console.log(doc.data());\n                // const serverUid = doc.get('uid');\n                const serverEmail = doc.get('email');\n                // if(    currentEmail === serverEmail  \n                //     || currentEmail === 'jun.a.kagaya@gmail.com' \n                //     || currentEmail === 'powerofrepetition@gmail.com'){\n                // if(serverUid === currentUid){\n                    // console.log(\"user confirmed: \", serverEmail);\n                    // return db.collection('CMS')\n                    //     .doc(projectName)\n                    //     .get()\n                    //     .then(doc => {\n                    //         // console.log(doc.data())\n                    //         return doc.data() || [];\n                    //     })\n                    return doc.data() || {sections:[]};\n                // }\n                // else {\n                //     console.error(\"user mismatch: \", serverEmail, \" <=> \",currentEmail);\n                //     return {sections:[]};\n                // }\n            })\n            .catch(err => {\n                console.error(\"Error reading user data: \", err);\n                return undefined;\n            })\n    }\n\n    // useEffect(()=>{\n        // loadAllSectionData();\n        // console.dir(pageData)\n    // }, [pageData]);\n\n    const forceUpdate = useCallback(()=>{\n        updatePageData({});\n    }, []);\n\n    const [, updatePageData] = useState();\n\n    const loadAllSectionData = async (data) => {\n        // console.log(data)\n        if(!data.sections) return;\n        const promises = [];\n        const out = {};\n        data.sections.forEach((section) => {\n            promises.push(\n                loadSectionData(section, data).then(d => {\n                    out[section] = d;\n                })\n            );\n            // setPageData({\n            //     ...data, \n            //     [section]: d\n            // })\n        })\n        \n        return Promise.all(promises).then(()=>{\n            // console.log(out)\n            return out;\n        });\n    }\n\n    const loadSectionData = async (sectionName, data) => {\n        // console.log('Loading data for: ', sectionName);\n        return db.collection(collectionName)\n            .doc(projectName)\n            .collection(sectionName)\n            // .orderBy('createdOn', 'desc')\n            .orderBy('date', 'desc')\n            .onSnapshot((snapshot) => {\n                snapshot.docChanges().forEach((change) => {\n                    const p = data;\n                    if(!p[sectionName]) p[sectionName] = {};\n                    if(change.type === 'added' || change.type === 'modified'){\n                        // Backcompatibility converting old imageURL/audioURL into array of objects\n                        const out = change.doc.data();\n                        if(out.imageURL){\n                            out.images = [\n                                {\n                                    id: Date.now().toString(),\n                                    url: out.imageURL,\n                                    path: \"\",\n                                    name: \"\",\n                                }\n                            ]\n                        }\n                        if(out.audioURL){\n                            out.audio = [\n                                {\n                                    id: Date.now().toString(),\n                                    url: out.audioURL,\n                                    name: \"\",\n                                    path: \"\",\n                                }\n                            ]\n                        }\n                        p[sectionName][change.doc.id] = {...out, id: change.doc.id};\n                        \n                        // console.log('added new: ', p.sections, p);\n                    }\n                    else if(change.type === 'removed'){\n                        delete p[sectionName][change.doc.id];\n                    }\n                    \n                    setPageData(p);\n                    forceUpdate();\n                })\n            })\n    }\n\n    const saveImage = async (fileObj) => {\n        if(!fileObj.localFile) {\n            return {\n                url: fileObj.url, \n                path: fileObj.path\n            }\n        }\n        const metaData = {\n            customMetadata: {\n                \"uploader\": currentEmail\n            }\n        }\n        const path = getStoragePath('images', fileObj.name);\n        var storageRef = storage.child(path);\n        return storageRef.put(fileObj.localFile, metaData).then(snapshot => {\n            console.log(\"Uploaded Image\");\n            return snapshot.ref.getDownloadURL().then(url => {\n                return {url, path};\n            })\n        })\n    }\n\n    const saveAudio = async (fileObj) => {\n        if(!fileObj.localFile) {\n            return {\n                url: fileObj.url, \n                path: fileObj.path\n            }\n        }\n        const metaData = {\n            customMetadata: {\n                \"uploader\": currentEmail\n            }\n        }\n        const path = getStoragePath('audio', fileObj.name);\n        var storageRef = storage.child(path);\n        return storageRef.put(fileObj.localFile, metaData).then((snapshot) => {\n            console.log('Uploaded Audio');\n            return snapshot.ref.getDownloadURL().then(url => {\n                return {url, path};\n            })\n        })\n        .catch(err => {\n            console.error(\"Error saving audio: \", err);\n        })\n    }\n\n    const saveMiscellaneous = async (fileObj) => {\n        // If local file exists, it means it has been freshly uploaded and needs to be saved, \n        // Otherwise it has already been saved and can be ignored\n        if(!fileObj.localFile) {\n            return {\n                url: fileObj.url, \n                path: fileObj.path\n            };\n        }\n\n        const metaData = {\n            customMetadata: {\n                \"uploader\": currentEmail\n            }\n        }\n\n        const path = getStoragePath('miscellaneous', fileObj.name);\n        console.log('saving fileObj: ', fileObj);\n        var storageRef = storage.child(path);\n        return storageRef.put(fileObj.localFile, metaData).then((snapshot) => {\n            console.log('Uploaded miscellaneous');\n            return snapshot.ref.getDownloadURL().then(url => {\n                return {url, path};\n            })\n        })\n        .catch(err => {\n            console.error(\"Error saving miscellaneous: \", err);\n        })\n    }\n\n    const getStoragePath = (type, filename) => {\n        // return currentEmail + \"/\" + type + \"/\" + Date.now() + \"-\" + filename;\n        // Remove the date from here, looks ugly.\n        //return currentEmail + \"/\" + type + \"/\" + filename;\n        return projectName + \"/\" + type + \"/\" + filename;\n    }\n\n    // Saves new article, or news item, etc.\n    const saveNew = async () => {\n        // Hack to trigger state change and rfresh TextEditor\n        setShowSaving(true);\n        setRteInitTitle(\"_\");\n        setRteInitContent(\"_\");\n        let sectionName = pageData.sections[selectedSectionIndex];\n        \n        // Only save to storage if not already saved, determined by checking to see if it is local link.\n        var imgObjs = [];\n        for(var i=0;i<newImages.length;i++){\n            var imgObj = (newImages[i].downloadUrl || \"\").includes(STORAGE_ROOT)\n                ? newImages[i] : await saveImage(newImages[i]);\n            imgObjs.push({\n                ...imgObj,\n                id: newImages[i].id,\n                name: newImages[i].name\n            });\n        }\n\n        var audioObjs = [];\n        for(var i=0;i<newAudio.length;i++){\n            var audioObj = (newAudio[i].downloadUrl || \"\").includes(STORAGE_ROOT)\n                ? newAudio[i] : await saveAudio(newAudio[i]);\n                audioObjs.push({\n                    ...audioObj,\n                    id: newAudio[i].id,\n                    name: newAudio[i].name\n                });\n        }\n\n        \n        // var imageObj = (newImage.url || \"\").includes(STORAGE_ROOT) \n        //     ? newImage : await saveImage();\n        // var audioObj = (newAudio || \"\").includes(STORAGE_ROOT) \n        //     ? newAudio : await saveAudio();\n\n        var fileObjs = [];\n        for(var i=0;i<newFiles.length;i++){\n            var fileObj = (newFiles[i].downloadUrl || \"\").includes(STORAGE_ROOT)\n                ? newFiles[i] : await saveMiscellaneous(newFiles[i]);\n            fileObjs.push({\n                ...fileObj,\n                // downloadUrl: newFiles[i].downloadUrl,\n                id: newFiles[i].id,\n                name: newFiles[i].name,\n            });\n        }\n        // console.log(\"imageObj: \", imageObj);\n        const d = {};\n\n        // if(imageObj) {\n        //     d[\"imageObj\"] = imageObj.url || \"\";\n        //     d['imageObj'] = imageObj.path || \"\";\n        // }\n        // if(audioObj) {\n        //     d[\"audioURL\"] = audioObj.url || \"\";\n        //     d[\"audioPath\"] = audioObj.path || \"\";\n        // }\n        d['images'] = imgObjs || [];\n        d['audio'] = audioObjs || [];\n        d['files'] = fileObjs || [];\n\n        if(newTitle) d[\"title\"] = newTitle;\n        if(newText) d['content'] = newText;\n        if(newDate) {\n            d['date'] = newDate;\n        } else {\n            d['date'] = new Date().toLocaleDateString('en-CA').toString();\n        }\n        if(showingAdditionalDate && additionalDate){\n            d['additionalDate'] = additionalDate;\n        } else {\n            d['additionalDate'] = \"\";\n        }\n        d['createdOn'] = firebase.firestore.FieldValue.serverTimestamp();\n\n        var id = showingEdit \n            ? showingEdit.id \n            : Date.now().toString();\n        \n            // console.log('SAVING: ', d);\n\n        db.collection(collectionName)\n            .doc(projectName)\n            .collection(sectionName)\n            .doc(id)\n            .set(d, {merge: true})\n            .then(()=>{\n                console.log('Successfully saved entry');\n                setShowSaving(false);\n                setShowingNew(false);\n                setShowingEdit(undefined);\n                setRteInitTitle(\"\");\n                setRteInitContent(\"\");\n                setNewTitle(\"\");\n                setNewText(\"\");\n                setNewDate(new Date());\n                setAdditionalDate(new Date());\n                setNewAudio([]);\n                setNewImages([]);\n                setNewFiles([]);\n                setShowingAdditionalDate(false);\n                // console.log('reset all fields');\n            })\n            .catch(err => {\n                console.error(\"Error saving new entry: \", err);\n                setShowSaving(false);\n                setShowingNew(false);\n            })\n    }\n\n    // useEffect(()=>{\n    //     console.log('new title: ', newTitle);\n    // }, [newTitle])\n\n    // useEffect(()=>{\n    //     console.log('rteInitTitle: ', rteInitTitle);\n    // }, [rteInitTitle])\n\n    const updateSelectedSectionIndex = (i) => {\n        setCurrentSection(pageData.sections[i]);\n        setSelectedSectionIndex(i);\n    }\n\n    const onTextChange = (e) => {\n        var text = e;//e.target.value;\n        setNewText(text);\n    }\n\n    const onTitleChange = (e) => {\n        // console.log(e);\n        // It's directly HTML now\n        setNewTitle(e);\n        // setNewTitle(e.target.value);\n    }\n\n    const onAudioAdded = (e) => {\n        // var audio = e.target.files[0];\n        // // setNewAudio(URL.createObjectURL(audio));\n        // if(audio && e.target.files.length){\n        //     setNewAudio(URL.createObjectURL(audio));\n        //     setNewAudioFile(audio);\n        // }\n        var file = e.target.files[0];\n        console.log(\"audio added: \", file);\n        if(file && e.target.files.length){\n            setNewAudio(\n                [...(newAudio || []),\n                {\n                    id: Date.now().toString(),\n                    url: URL.createObjectURL(file),\n                    name: file.name,\n                    localFile: file,\n                }\n                ]\n            );\n        }\n    }\n\n    const onImageAdded = (e) => {\n        var file = e.target.files[0];\n        console.log(\"image added: \", file);\n        if(file && e.target.files.length){\n            setNewImages(\n                [...(newImages || []),\n                {\n                    id: Date.now().toString(),\n                    url: URL.createObjectURL(file),\n                    name: file.name,\n                    localFile: file,\n                }\n                ]\n            );\n        }\n    }\n    // useEffect(()=>{\n    //     console.log(newImages);\n    // }, [newImages])\n\n    const onFileAdded = (e) => {\n        var file = e.target.files[0];\n        console.log(\"file added: \", file);\n        if(file && e.target.files.length){\n            setNewFiles(\n                [...(newFiles || []),\n                {\n                    id: Date.now().toString(),// For deletion\n                    downloadUrl: URL.createObjectURL(file),\n                    name: file.name,\n                    localFile: file,\n                }\n                ]\n            );\n        }\n    }\n\n    // useEffect(()=>{\n    //     console.log(\"newFiles: \", newFiles);\n    // }, [newFiles]);\n\n    const onDateAdded = (e) => {\n        // console.log(e);\n        setNewDate(e);\n        // setNewDate(e.target.value);\n    }\n\n    const onAdditionalDateAdded = (e) => {\n        setAdditionalDate(e);\n    }\n\n    const hideShowingNew = () => {\n        setShowingEdit(undefined);\n        setShowingNew(!showingNew);\n        setNewAudio([]);\n        setNewImages([]);\n        setNewDate(new Date());\n        setNewFiles([]);\n        setAdditionalDate(new Date());\n        setNewTitle(\"\");\n        setShowingAdditionalDate(false);\n        setNewText(\"\");\n        setRteInitTitle(\"\");\n        setRteInitContent(\"\");\n    }\n\n    const removeUploadedImg = (url) => {\n        deleteStoredObject('image', url);\n        setNewImages(newImages.filter(f => f.url !== url));\n    }\n\n    const removeUploadedAudio = (url) => {\n        deleteStoredObject('audio', url);\n        setNewAudio(newAudio.filter(f => f.url !== url));\n    }\n\n    const removeUploadedMiscellaneous = (url) => {\n        console.log('removing fileId: ', url);\n        console.log(\"newFiles: \", newFiles);\n        deleteStoredObject('miscellaneous', url);\n        setNewFiles(newFiles.filter(f => f.url !== url));\n    }\n\n    const deleteSectionContent = (entry, projectName, sectionName) => {\n        // console.log('deleting all of entry: ', entry)\n\n        if(newImages.length) {\n            for(var newFile of newImages){\n                // console.log('deleting: ', newFile);\n                deleteStoredObject('image', newFile.downloadUrl);\n            }\n        }\n\n        if(newAudio.length) {\n            for(var newFile of newAudio){\n                // console.log('deleting: ', newFile);\n                deleteStoredObject('audio', newFile.downloadUrl);\n            }\n        }\n        \n        if(newFiles.length) {\n            for(var newFile of newFiles){\n                // console.log('deleting: ', newFile);\n                deleteStoredObject('miscellaneous', newFile.downloadUrl);\n            }\n        }\n        if(entry.images && entry.images.length) {\n            for(var newFile of entry.images){\n                // console.log('deleting: ', newFile);\n                deleteStoredObject('image', newFile.url);\n            }\n        }\n\n        if(entry.audio && entry.audio.length) {\n            for(var newFile of entry.audio){\n                // console.log('deleting: ', newFile);\n                deleteStoredObject('audio', newFile.url);\n            }\n        }\n        \n        if(entry.files && entry.files.length) {\n            for(var newFile of entry.files){\n                // console.log('deleting: ', newFile);\n                deleteStoredObject('miscellaneous', newFile.url);\n            }\n        }\n\n        db.collection(collectionName)\n            .doc(projectName)    \n            .collection(sectionName)\n            .doc(entry.id)\n            .delete()\n            .then(()=>{\n                // console.log('Successfully deleted entry');\n            })\n            .catch(err => {\n                console.error(\"Error deleting entry: \", err);\n            });\n    }\n    \n    const deleteStoredObject = (type, downloadUrl) => {\n        // Only delete if the url is to an existing file\n        // console.log(\"deleting url 1: \", downloadUrl);\n        /*switch(type){\n            case 'image': {\n                if(!(newImage.url || \"\").includes(STORAGE_ROOT)){\n                    return;\n                }\n                break;\n            }\n            case 'audio': {\n                if(!(newAudio.url || \"\").includes(STORAGE_ROOT)){\n                    return;\n                }\n                break;\n            }\n            case 'miscellaneous': {\n                if(!(downloadUrl || \"\").includes(STORAGE_ROOT)){\n                    return;\n                }\n                break;\n            }\n            default: {\n                console.error('Returning on default');\n                return;\n            }\n        }*/\n        if(!(downloadUrl || \"\").includes(STORAGE_ROOT)){\n            return;\n        }\n    \n        firebase.storage().refFromURL(downloadUrl).delete().then(()=>{\n            // console.log('Deleted successfully: ', downloadUrl);\n        }).catch(err => {\n            console.error(\"Error deleting stored item\");\n        }) \n    }\n\n    const toggleAdditionalDate = () => {\n        setShowingAdditionalDate(!showingAdditionalDate);\n    }\n\n    // console.log(\"additionalDate: \", additionalDate);\n    // console.log('loginComplete: ', loginComplete, currentUid, !currentUid && loginComplete);\n    return(\n        <div className=\"CMS\">\n            <Helmet>\n                <meta charSet=\"utf-8\" />\n                <title>Update your website</title>\n                <link rel=\"icon\" type=\"image/png\" href=\"blank.ico\" sizes=\"16x16\" />\n            </Helmet>\n            {\n                !currentUid && loginComplete &&\n                <div className=\"overlay\">\n                    <div className=\"content\">\n                        <h2>Login to update your website</h2>\n                        <p>Please use your approved email address</p>\n                        {/* <p>Update your website content</p> */}\n                        <div className=\"login\" onClick={()=>{LogIn()}}>\n                            <span>Login</span>\n                        </div>\n                    </div>\n                </div>\n            }\n            <div className=\"inner\">\n                <div className=\"left\">\n                    <div className=\"title\">\n                        <h4 className=\"subtitle\">Website Content Management</h4>\n                        <h1>{pageData.projectName}</h1>\n                    </div>\n                    { webpageEditable\n                        ? <div className={\"editType-wrapper \" + (editType === 0 ? \"left-selected\" : \"right-selected\")}>\n                            <div className={editType === 0 ? \"selected\" : \"\"} onClick={()=>setEditType(0)}>Page Content</div>\n                            <div className={editType === 1 ? \"selected\" : \"\"} onClick={()=>setEditType(1)}>Dynamic Content</div>\n                        </div>\n                        : \"\"\n                    }\n                    { editType === 0\n                        ? <div className=\"sections-wrapper\">\n                            <div className=\"section\" style={{backgroundColor:\"white\"}}>Select text on the right to edit it.</div>\n                        </div>\n                        : <div className=\"sections-wrapper\">\n                            { pageData.sections &&\n                                pageData.sections.map((section, i) => (\n                                    <div key={\"left-section-\"+i} className={\"section \" + (selectedSectionIndex === i ? \"selected\" : \"\")} onClick={()=>{updateSelectedSectionIndex(i)}}>{section}</div>\n                                ))\n                            }\n                        </div>\n                    }\n                    <div className=\"profile\">\n                        { currentUser.photoURL\n                            ? <LazyLoadImage src={currentUser.photoURL} effect=\"blur\" alt=\"\" />\n                            : <LazyLoadImage src={profile} effect=\"blur\" alt=\"\" />\n                        }\n                        <div className=\"details-wrapper\">\n                            {\n                                currentUser.displayName\n                                ? <div className=\"displayName\"><span>{currentUser.displayName}</span></div>\n                                : <div onClick={()=>{LogIn()}}></div>\n                            }\n                            {\n                                currentUser.email\n                                ? <div className=\"email\"><span>{currentUser.email}</span></div>\n                                : <div></div>\n                            }\n                        </div>\n                        { currentUser\n                            ? <X onClick={()=>{firebase.auth().signOut();}}/>\n                            : \"\"\n                        }\n                    </div>\n                    <div className=\"attribution\">\n                        <span>Website content management - Webbi&copy; 2020</span>\n                    </div>\n                </div>\n                <div className=\"right\">\n                    { editType === 0\n                        ? <WebpageEditor /*pageData={pageData}*/ setFrameLoaded={setFrameLoaded} /*children={children}*/>\n                            {children}\n                            <UpdatePage \n                                projectName={projectName} \n                                collectionWebsiteContent={collectionWebsiteContent}\n                                db={db} \n                                frameLoaded={frameLoaded} \n                            />\n                        </WebpageEditor>\n                        : <React.Fragment>\n                            <div className=\"top\">\n                                <div className=\"header\">\n                                    { \n                                        pageData.sections && <h1>{pageData.sections[selectedSectionIndex]}</h1>\n                                    }\n                                </div>\n                                <div className=\"wrapper\" onClick={()=>{setShowingNew(!showingNew)}}>\n                                    {\n                                        showingNew \n                                        ? <X width=\"48\" />\n                                        : <Plus width=\"48\" />\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"inner\">\n                                { pageData.sections && \n                                    (Object.values(pageData[currentSection] || {})).map((entry, index) => (\n                                        <SectionContent \n                                            key={\"inner-entry-\" + index} \n                                            entry={entry} \n                                            setShowingEdit={setShowingEdit}\n                                            setShowingNew={setShowingNew}\n                                            setNewAudio={setNewAudio}\n                                            setNewImages={setNewImages}\n                                            setNewFiles={setNewFiles}\n                                            setNewDate={setNewDate}\n                                            setAdditionalDate={setAdditionalDate}\n                                            setNewTitle={setNewTitle}\n                                            setNewText={setNewText}\n                                            setShowingDeleteDialog={setShowingDeleteDialog}\n                                            projectName={projectName}\n                                            sectionName={currentSection}\n                                            setRteInitTitle={setRteInitTitle}\n                                            setRteInitContent={setRteInitContent}\n                                            setShowingAdditionalDate={setShowingAdditionalDate}\n                                        />\n                                    ))\n                                }\n                            </div>\n                        </React.Fragment>\n                    }\n                </div>\n                <div className={\"overlay \" + (showingNew ? \"showing\" : \"\")} onClick={()=>{hideShowingNew()}}></div>\n                <div className={\"modal \" + (showingNew ? \"showing\" : \"\")}>\n                    <div className=\"title\">\n                        <div>\n                            <X onClick={()=>{\n                                hideShowingNew();\n                            }} />\n                            {pageData.sections ?\n                                showingEdit\n                                    ? <h1>Edit {currentSection.toString().toLowerCase()}</h1>\n                                    : <h1>Create {currentSection.toString().toLowerCase()}</h1>\n                                : \"\"\n                            }\n                            {/* {pageData.sections[selectedSectionIndex]} */}\n                        </div>\n                        <div>\n                            <div className=\"save ok\" onClick={()=>{saveNew()}}>\n                                <span>Save</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"content\">\n                        <div className=\"media-upload-wrapper\">\n                                <React.Fragment>\n                                    <label htmlFor=\"image-upload\">\n                                        <div className=\"image-upload-wrapper\">\n                                            <Image />\n                                            {/* <img src={blank_image} alt=\"\" /> */}\n                                        </div>\n                                    </label>\n                                    <input id=\"image-upload\" type=\"file\" onChange={onImageAdded} hidden={true} accept=\"image/*\" onClick={(e)=>{e.target.value = \"\"}} />\n                                </React.Fragment>\n                            {/* } */}\n                            \n                            {/* <h4>Upload audio file</h4> */}\n                            {/* { !newAudio && */}\n                                <React.Fragment>\n                                    <label htmlFor=\"audio-upload\">\n                                        <div className=\"audio-upload-wrapper\">\n                                        {/* <img src={blank_audio} alt=\"\" /> */}\n                                            <Headphones />\n                                        </div>\n                                    </label>\n                                    <input id=\"audio-upload\" type=\"file\" onChange={onAudioAdded} hidden={true} accept=\".mp3,.aif,.aiff,.ogg,.wav,audio/*\" onClick={(e)=>{e.target.value = \"\"}} />\n                                </React.Fragment>\n                            {/* } */}\n                            \n                            {/* Generic file */}\n                            <label htmlFor=\"file-upload\">\n                                <div className=\"file-upload-wrapper\">\n                                    <File />\n                                </div>\n                            </label>\n                            {/* https://stackoverflow.com/questions/39484895/how-to-allow-input-type-file-to-select-the-same-file-in-react-component */}\n                            <input id=\"file-upload\" type=\"file\" onChange={onFileAdded} hidden={true} accept=\"application/pdf,application/msword,text/plain,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\" onClick={(e)=>{e.target.value = \"\"}} />\n                        </div>\n\n                        <div className=\"uploaded-previews box\">\n                        { \n                            newImages && newImages.length\n                            ? <div>\n                                { newImages.map((newImage, i) => (\n                                    <div className=\"uploaded-img-wrapper\" key={\"img-\"+i}>\n                                        <LazyLoadImage className=\"uploaded-img\" src={newImage.url} effect=\"blur\" alt=\"\" />\n                                        <div onClick={()=>{removeUploadedImg(newImage.url)}}>\n                                            <X />\n                                        </div>\n                                    </div>\n                                    ))\n                                }\n                            </div>\n                            : \"\"\n                        }\n\n                        {\n                            newAudio && newAudio.length\n                            ? <div>\n                                { newAudio.map((audio, i) => (\n                                    <div className=\"uploaded-audio-wrapper\" key={\"audio-\"+i}>\n                                        <audio \n                                            controls \n                                            className=\"uploaded-audio\"\n                                            src={audio.url} type=\".mp3,audio/*\" \n                                        />\n                                        <div onClick={()=>{removeUploadedAudio(audio.url)}}>\n                                            <X />\n                                        </div>\n                                    </div>\n                                ))\n                                }\n                            </div>\n                            : \"\"\n                        }\n\n                        {\n                            newFiles && newFiles.length \n                            ? <div>\n                                { newFiles.map((newFile, i) => (\n                                    <div className=\"uploaded-miscellaneous-wrapper\" key={\"miscellaneous-\"+i}>\n                                        <div>\n                                            <a href={newFile.downloadUrl || newFile.url} download={newFile.name}>{newFile.name}</a>\n                                        </div>\n                                        <div onClick={()=>removeUploadedMiscellaneous(newFile.url)}>\n                                            <X />\n                                        </div>\n                                    </div>\n                                ))\n                                }\n                            </div>\n                            : \"\"\n                        }\n                        </div>\n\n                        {/* https://www.npmjs.com/package/react-date-picker */}\n                        <div className=\"box\">\n                            <div className=\"date-wrapper\">\n                                <h4>Date</h4>\n                                <div className=\"svg-wrapper\" onClick={()=>{toggleAdditionalDate()}}>\n                                    <label>Using a date range</label>\n                                    <div className={\"svg-wrapper-inner \" + (showingAdditionalDate ? \"showing\" : \"\")}>\n                                    {\n                                        showingAdditionalDate \n                                        // ? <Minus />\n                                        // : <Plus />\n                                        ? <Check />//<CheckSquare />\n                                        : <Square />\n                                    }\n                                    </div>\n                                </div>\n                                \n                            </div>\n                            {/* <input\n                                type=\"date\"\n                                // value={newDate}\n                                defaultValue={new Date().toLocaleDateString('en-CA').toString()}\n                                onChange={onDateAdded}\n                            /> */}\n                            <DatePicker\n                                onChange={onDateAdded}\n                                selected={newDate}\n                                // selected=\"2020-10-29\"\n                                dateFormat=\"yyyy-MM-dd\"\n                                // dateFormat=\"yyyy\"\n                                // defaultValue={new Date().toLocaleDateString('en-CA').toString()}\n                            />\n                            {\n                                showingAdditionalDate && \n                                <div id=\"additional-datepicker\">\n                                    <DatePicker\n                                        onChange={onAdditionalDateAdded}\n                                        selected={additionalDate}\n                                        dateFormat=\"yyyy-MM-dd\"//\"yyyy\"\n                                        // defaultValue={new Date().toLocaleDateString('en-CA').toString()}\n                                    />\n                                </div>\n                            }\n                        </div>\n\n                        <div className=\"title-upload box\">\n                            <h4>Title</h4>\n                            {/* <input value={newTitle} onChange={onTitleChange} /> */}\n                            <TextEditor \n                                // value={newTitle} \n                                // value={RichTextEditor.createValueFromString(newTitle, 'html')}\n                                initialValue={rteInitTitle}\n                                value={RichTextEditor.createValueFromString(newTitle, 'html')}\n                                onChange={onTitleChange} \n                            />\n                        </div>\n                        \n                        <div className=\"text-upload box\">\n                            <h4>Content</h4>\n                            {/* <textarea value={newText} onChange={onTextChange} /> */}\n                            <TextEditor \n                                // value={newText} \n                                // value={RichTextEditor.createValueFromString(newText, 'html')}\n                                initialValue={rteInitContent}\n                                value={RichTextEditor.createValueFromString(newText, 'html')}\n                                onChange={onTextChange} \n                                files={newFiles} // Pass files through to link to\n                            />\n                        </div>\n                    </div>\n                    \n                    <Loading loading={showSaving} /> \n                </div>\n\n                <div className={\"overlay \"+ (showingDeleteDialog ? \"showing\" : \"\")} onClick={()=>{setShowingDeleteDialog(false)}}></div>\n                <div className={\"deleteDialog \" + (showingDeleteDialog ? \"showing\" : \"\")}>\n                    <h4>Are you sure you want to delete this?</h4>\n                    <div className=\"options-wrapper\">\n                        <div className=\"cancel\" onClick={()=>{setShowingDeleteDialog(false);}}>\n                            <span>Cancel</span>\n                        </div>\n                        <div className=\"ok\" onClick={()=>{\n                            deleteSectionContent(showingDeleteDialog, projectName, currentSection);\n                            setShowingDeleteDialog(false);\n                        }}>\n                            <span>Ok</span>\n                        </div>\n                    </div>\n                </div>\n                \n            </div>\n            \n            {/* <div>\n                <label>Username</label>\n                <input value={username} onChange={setUsername} />\n                <label>Password</label>\n                <input valu={password} onChange={setPassword} />\n            </div> */}\n        </div>\n    )\n}\n\nconst SectionContent = ({\n    entry,\n    projectName,\n    sectionName,\n    setShowingEdit,\n    setShowingNew,\n    setNewAudio,\n    setNewImages,\n    setNewFiles,\n    setNewDate,\n    setAdditionalDate,\n    setNewTitle,\n    setNewText,\n    setShowingDeleteDialog,\n    setRteInitTitle,\n    setRteInitContent,\n    setShowingAdditionalDate,\n}) => {\n    // console.log(entry);\n    return(\n        <div className=\"SectionContent\">\n            <div className=\"content\">\n                <div className=\"cms-media-wrapper\">\n                    {\n                        // TODO Display images as small and in a grid\n                        (entry.images && entry.images.length)\n                        ? <LazyLoadImage src={entry.imageURL || entry.images[0].url} effect=\"blur\" width=\"260px\" \n                            // height=\"calc(100% - 54px)\" \n                            height=\"fit-content\"\n                            alt=\"\" />\n                        : \"\"\n                    }\n                    {\n                        (entry.audio && entry.audio.length)\n                        ? <audio controls src={entry.audioURL || entry.audio[0].url} type=\".mp3,audio/*\"/>\n                        : \"\"\n                    }\n                    {\n                        entry.files && entry.files.length ?\n                        <div className=\"file\">\n                            <Paperclip />\n                            <p>{entry.files.length} resource{entry.files.length > 1 ? \"s\" : \"\"}</p>\n                            {/* Could optionally add sizes here */}\n                        </div>\n                        : \"\"\n                    }\n                </div>\n                <div className=\"right-content\">\n                    {/* {entry.imgUrl && <img src={entry.imgUrl} />}\n                    {entry.audioURL && \n                        <audio controls>\n                            <source src={entry.audioURL} type=\"audio/mpeg\" />\n                        </audio>\n                    } */}\n                    <div dangerouslySetInnerHTML={{__html: entry.title}} />\n                    <div className=\"date-display-container\">\n                        {entry.date && <p className=\"date\">{firebaseDate2DisplayDate(entry.date)}</p>}\n                        {entry.additionalDate && <p className=\"additionalDate\">{firebaseDate2DisplayDate(entry.additionalDate)}</p>}\n                    </div>\n                    <div className=\"contents\" dangerouslySetInnerHTML={{__html:entry.content}} />\n                </div>\n            </div>\n            <div>\n                <div className=\"edit\" onClick={()=>{\n                    console.log('showing entry: ', entry);\n                    setShowingEdit(entry);\n                    setShowingNew(true);\n                    setNewAudio(entry.audio || []);\n                    setNewImages(entry.images || []);\n                    setNewFiles(entry.files || []);\n                    setNewDate(new Date(entry.date.seconds * 1000));\n                    if(entry.additionalDate){\n                        setShowingAdditionalDate(true);   \n                    }\n                    var ad = entry.additionalDate \n                        ? entry.additionalDate.seconds * 1000 \n                        : Date.now();\n                    // console.log(\"ad: \", ad);\n                    setAdditionalDate(new Date(ad));\n                    setNewTitle(entry.title || \"\");\n                    setNewText(entry.content || \"\");\n\n                    setRteInitTitle(entry.title || \"\");\n                    setRteInitContent(entry.content || \"\");\n                }}>\n                    <Edit />\n                </div>\n                <div className=\"delete\" onClick={()=>{\n                    setShowingDeleteDialog(entry);\n                }}>\n                    <Trash2 />\n                </div>\n            </div>\n        </div>\n    )\n}","/* loaded by smart-asset */\nexport default \"profile~FlXvJqZg.png\"","import React, { useEffect, useState } from 'react'\nimport './index.css';\nimport firebase from \"firebase\";\n/* \n    Your Firebase Configuration via \n    1. Firebase console\n    2. Click on Project Settings to get this\n    3. Save to an external folder and import here.\n*/\n\nimport firebaseConfig from './config.js';\n\nimport CMS from 'react-firestore-cms'\nimport 'react-firestore-cms/dist/cms.css';\nimport 'react-firestore-cms/dist/loading.css';\nimport 'react-firestore-cms/dist/index.css';\nimport 'react-firestore-cms/dist/app.css';\n\nfirebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\n\nconst MyWebsite = ({db}) => {\n\n  // Default data.\n  const d = {\n    name: \"Jason\",\n    surname: \"Briggs\",\n    description: \"This is a paragraph that can be changed by pressing the edit button on the bottom right.\",\n    jobs: [\n      \"Software Engineer\",\n      \"Automation Tester\",\n      \"Developer Operations\",\n      \"Marketing & Sales Coordinator\",\n      \"Test Analyst\"\n    ],\n    careers: [\n      {\n        title: \"Automation Testing\",\n        duration: 2,\n      },\n      {\n        title: \"Junior Software Developer\",\n        duration: 5\n      },\n      {\n        title: \"Senior Software Developer\",\n        duration: 10,\n      }\n    ],\n    details: {\n      volunteer_work: \"Working at the Orphanage\",\n      qualifications1: \"Google Ads Master - 2020\",\n      qualifications2: \"Google Ads Master - 2021\",\n      qualifications3: {\n        text: \"2019 Kickstart Coding Challenge - Bronze\",\n        start: \"2019 Jan\",\n        end: \"2019 Nov\",\n      }\n\n    }\n  };\n  const [data, setData] = useState(d);\n\n  useEffect(()=>{\n    db.collection(\"CMS_WebsiteContent\")\n      .doc(\"test\")\n      .get()\n      .then(doc => {\n        setData(doc.data());\n      })\n  }, [db]);\n\n  return (\n    <div>\n      <h4>This is a CMS sample, on the left is the CMS, and this is an example website.</h4>\n      <h2>This header cannot be edited.</h2>\n      <p id=\"description\" className=\"cp-editable\">{data.description}</p>\n      <div style={{padding:\"15px\",margin:\"auto\"}}>\n        <div id=\"name\" className=\"cp-editable\">{data.name}</div>\n        <div id=\"surname\" className=\"cp-editable\">{data.surname}</div>\n      </div>\n      <p>This paragraph cannot be edited because it doesn't have the className 'cp-editable', or an id to be linked to the object in the Firstore database. If you look at the example source code you'll see what can be edited and what can't.</p>\n\n      <h4>List of jobs</h4>\n      <ul>\n      {\n        data.jobs.map((job, i) => (\n          <li id={\"jobs-\"+i} className=\"cp-editable\" style={{lineHeight:\"2\"}}>{job}</li>\n        ))\n      }\n      </ul>\n      <h4>Careers</h4>\n      <div style={{display:\"flex\",justifyContent:\"flex-start\",flexWrap:\"wrap\"}}>\n      {\n        data.careers.map((career, i) => (\n          <div style={{padding: \"5px\",margin:\"15px 5px\",borderRadius:\"4px\",border:\"2px solid rgb(0,0,0,0.15)\",backgroundColor:\"rgb(245,245,245)\"}}>\n            <div id={\"careers-\"+i+\"-title\"} className=\"cp-editable\" style={{margin:\"10px 0\"}}>Position: {career.title}</div>\n            <div id={\"careers-\"+i+\"-duration\"} className=\"cp-editable\">Duration: {career.duration} years</div>\n          </div>\n        ))\n      }\n\n      <div>\n        <div id=\"details-volunteer_work\" className=\"cp-editable\">Activity: {data.details.volunteer_work}</div>\n        <div id=\"details-qualifications1\" className=\"cp-editable\">Qualification: {data.details.qualifications1}</div>\n        <div id=\"details-qualifications2\" className=\"cp-editable\">Qualification: {data.details.qualifications2}</div>\n        <div>\n          <p>This is a deep component with multiple children</p>\n          <div id=\"details-qualifications3-text\" className=\"cp-editable\">Qualification: {data.details.qualifications3.text}</div>\n          <div id=\"details-qualifications3-start\" className=\"cp-editable\">Start: {data.details.qualifications3.start}</div>\n          <div id=\"details-qualifications3-end\" className=\"cp-editable\">End: {data.details.qualifications3.end}</div>\n        </div>\n      </div>\n      </div>\n    </div>\n  );\n}\n\nconst App = () => {\n  return <CMS \n    projectName=\"test\" \n    children={<MyWebsite db={db} />} \n    db={db} \n    firebase={firebase}\n    collectionName=\"CMS\"\n    collectionWebsiteContent=\"CMS_WebsiteContent\"\n  />\n}\n\nexport default App\n","export default {\n    apiKey: \"AIzaSyBiw4ORAbMmxImx4qPGq9JAFtUI36PeYQ0\",\n    authDomain: \"sheets2website-1598313088115.firebaseapp.com\",\n    databaseURL: \"https://sheets2website-1598313088115.firebaseio.com\",\n    projectId: \"sheets2website-1598313088115\",\n    storageBucket: \"sheets2website-1598313088115.appspot.com\",\n    messagingSenderId: \"1082271392691\",\n    appId: \"1:1082271392691:web:45c06be046a0a72b5b21c6\",\n    measurementId: \"G-ZWGE5NLZ4Z\"\n};","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}